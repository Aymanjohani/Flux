{
  "version": 2,
  "updatedAt": "2026-02-06T21:30:00Z",
  "facts": {
    "user.name": {
      "value": "Ayman",
      "updatedAt": "2026-01-31",
      "source": "USER.md"
    },
    "user.role": {
      "value": "CEO of IIoT Solutions",
      "updatedAt": "2026-01-31",
      "source": "USER.md"
    },
    "user.location": {
      "value": "Jeddah, Saudi Arabia",
      "updatedAt": "2026-01-31",
      "source": "USER.md"
    },
    "user.timezone": {
      "value": "AST (UTC+3)",
      "updatedAt": "2026-01-31",
      "source": "USER.md"
    },
    "company.name": {
      "value": "IIoT Solutions",
      "updatedAt": "2026-01-31",
      "source": "IDENTITY.md"
    },
    "server.location": {
      "value": "France (Hostinger)",
      "updatedAt": "2026-02-01",
      "source": "user correction"
    },
    "server.ip": {
      "value": "76.13.32.56",
      "updatedAt": "2026-01-31",
      "source": "setup"
    },
    "integrations.memorySearch": {
      "value": "enabled (OpenAI text-embedding-3-small)",
      "updatedAt": "2026-02-01",
      "source": "config"
    },
    "integrations.braveSearch": {
      "value": "enabled",
      "updatedAt": "2026-01-31",
      "source": "config"
    },
    "integrations.todoist": {
      "value": "connected (Ayman's account - seat cost issue)",
      "updatedAt": "2026-02-01",
      "source": "Ayman decision"
    },
    "integrations.stt": {
      "value": "enabled (Groq whisper-large-v3-turbo)",
      "updatedAt": "2026-02-01",
      "source": "config verified"
    },
    "integrations.email": {
      "value": "coding@iiotsolutions.sa (enabled, read+send, Gmail API)",
      "updatedAt": "2026-02-02T07:01:00Z",
      "source": "Re-authorized with gmail.send scope - tested successfully"
    },
    "integrations.calendar": {
      "value": "coding@iiotsolutions.sa (enabled, view/create events)",
      "updatedAt": "2026-02-01T19:08:00Z",
      "source": "Google Calendar API enabled"
    },
    "integrations.recallai": {
      "value": "enabled (ayman@iiotsolutions.sa, EU region)",
      "updatedAt": "2026-02-01T19:50:00Z",
      "source": "Meeting bot tested - join, speak, record, transcribe all working"
    },
    "integrations.drive": {
      "value": "not approved",
      "updatedAt": "2026-02-01",
      "source": "Ayman decision"
    },
    "integrations.hubspot": {
      "value": "enabled (Legacy Private App, EU region, full CRM access)",
      "updatedAt": "2026-02-02T06:31:00Z",
      "source": "Configured by Ayman - Portal 147149295"
    },
    "integrations.linkedinIntel": {
      "value": "enabled (coding@iiotsolutions.sa, cookie-based auth, nightly runs)",
      "updatedAt": "2026-02-02T06:20:00Z",
      "source": "Browser automation deployed for SME market intelligence"
    },
    "services.siri": {
      "value": "INCIT-certified only (Amr, Aadil). Portal-generated reports. 8-12K SAR. Requires on-site visit.",
      "updatedAt": "2026-02-01",
      "source": "Ayman correction"
    },
    "systems.financialDashboard": {
      "value": "https://dashboard.iiotsolutions.sa (Google SSO, @iiotsolutions.sa only)",
      "updatedAt": "2026-02-01T20:30:00Z",
      "source": "Aadil - two-system design (financials + Todoist operations)"
    },
    "decisions.todoist": {
      "value": "Don't restructure. Use existing 'Ayman-Aadil Tasks' project for shared work.",
      "updatedAt": "2026-02-01T20:30:00Z",
      "source": "CEO decision from Ayman-Aadil meeting"
    },
    "analysis.hubspot_pipeline": {
      "value": "SAR 1.94M active (15 deals), SAR 910K closed won (7 deals), SAR 1.24M closed lost (3 deals, no reasons). 23% stale rate, SIRI economics issue, team imbalance.",
      "updatedAt": "2026-02-03T13:50:00Z",
      "source": "Comprehensive analysis by Flux"
    },
    "analysis.todoist": {
      "value": "51 active tasks, 38 projects (13 empty). Critical: 96% tasks have no due dates. Vague tasks, no ownership visibility, no accountability.",
      "updatedAt": "2026-02-03T13:50:00Z",
      "source": "Comprehensive analysis by Flux"
    },
    "proposals.todoist_restructure": {
      "value": "Clean slate approach: Delete all, rebuild with 6 functional areas (Sales, Delivery, Dev, Ops, Marketing, Leadership). Mandatory standards, weekly reviews, Flux automation.",
      "updatedAt": "2026-02-03T13:50:00Z",
      "source": "Proposal sent to Aadil for decision"
    },
    "documentation.todoist_guide": {
      "value": "18KB team usage guide created (standards, workflows, best practices). Shared with Ayman, Aadil, Mreefah.",
      "updatedAt": "2026-02-03T13:50:00Z",
      "source": "docs/todoist-team-guide.md"
    },
    "priorities.cognitive_architecture": {
      "value": "TOP PRIORITY: Memory optimization, context management, session awareness over feature development",
      "updatedAt": "2026-02-04T03:32:00Z",
      "source": "Ayman directive - focus on fundamentals, not features"
    },
    "tools.check_before_ask": {
      "value": "scripts/check-before-ask.sh - searches 6 locations before asking (config, vector, state, env, shell, workspace)",
      "updatedAt": "2026-02-04T04:30:00Z",
      "source": "Built by Flux - prevents redundant questions"
    },
    "integrations.linkedinIntelV2": {
      "value": "Native browser orchestration (marker-file cron trigger), 10x faster than subprocess approach",
      "updatedAt": "2026-02-04T03:00:00Z",
      "source": "Fixed 300s timeout - ready for deployment"
    },
    "tech.memory_engine_cognitive": {
      "value": "P0-P6 complete: cosine metric fix, hybrid search (vector+keyword), contradiction detection, temporal decay, proactive context assembly, confidence scoring, relationship extraction (BFS graph). memory_engine.js upgraded from 656 to 1230+ lines.",
      "updatedAt": "2026-02-06T20:30:00Z",
      "source": "Phase 2 of Feb 6 cognitive architecture upgrade"
    },
    "tech.memory_audit": {
      "value": "Full audit of vector DB, pipeline scripts, cron config, monitoring. Found: 672 chunks in LanceDB, Gemini→OpenAI migration needed, cron pipeline issues. Architecture plan designed (P0-P6 + F1-F8).",
      "updatedAt": "2026-02-06T19:30:00Z",
      "source": "Phase 1 of Feb 6 - audit and architecture design"
    },
    "tools.session_bootstrap": {
      "value": "scripts/session-bootstrap.sh — loads context from today-brief, active-work, state.json, book-outline at session start. Output capped at 2000 chars. Degrades gracefully if files missing.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F1 implementation"
    },
    "tools.morning_briefing": {
      "value": "scripts/morning-briefing.js — daily 8:30 AM Riyadh. Gathers Calendar, Todoist, HubSpot stale deals, Gmail, LinkedIn intel. Sends formatted briefing via Telegram. Each source degrades independently.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F2 implementation. Cron: 30 5 * * *"
    },
    "tools.pipeline_watchdog": {
      "value": "scripts/pipeline-watchdog.js — weekly Monday 6:00 AM Riyadh. Queries HubSpot: stale deals, no next step, missing amount, unassigned, lost without post-mortem. Health score 0-100. Saves reports/pipeline-report-{date}.md.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F3 implementation. Cron: 0 3 * * 1"
    },
    "tools.lessons_compaction": {
      "value": "memory compact-lessons [--dry-run] — 3-tier lessons lifecycle. Active (<14d + CRITICAL/RECURRING) stays, older entries archived by theme via LLM, both re-ingested to vector DB. Auto-triggers in dream() when >500 lines.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F4 implementation in memory_engine.js"
    },
    "tools.accountability_check": {
      "value": "scripts/accountability-check.js — Sunday 6:00 PM Riyadh. Analyzes Todoist: no due dates, overdue, per-person compliance scores (due date 60% + priority 40%). Saves reports/accountability-{date}.md.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F5 implementation. Cron: 0 15 * * 0"
    },
    "tools.meeting_prep": {
      "value": "scripts/meeting-prep.js — daily 8:35 AM Riyadh. For external meetings: HubSpot company/deal lookup, previous meeting notes scan, memory context assembly. Sends per-meeting briefing via Telegram.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F6 implementation. Cron: 35 5 * * *"
    },
    "tools.user_profiles": {
      "value": "memory profile <name> — reads memory/users/{name}.md. Ayman (CEO) and Aadil (CTO) profiles populated with comm style, decision patterns, directives, timezone rules. Not auto-populated for other team members yet.",
      "updatedAt": "2026-02-06T21:00:00Z",
      "source": "F7 implementation in memory_engine.js"
    },
    "tools.event_bus": {
      "value": "scripts/event-bus.js — publish/subscribe/notify/logEvent. JSONL event log in memory/events/. Topic routing: alert.*→notify, report.*→notify+save, email.*→classify+route, memory.*→log, system.*→log. Retry once on failure, failed events logged separately. Bash wrapper: scripts/emit-event.sh.",
      "updatedAt": "2026-02-06T23:00:00Z",
      "source": "E1 implementation"
    },
    "tools.email_processor": {
      "value": "scripts/email-processor.js — sanitization, injection pattern scanning, LLM classification (sandboxed prompt), event bus routing. Auto-reply ONLY to @iiotsolutions.sa (hardcoded allowlist). Raw body never leaves processor.",
      "updatedAt": "2026-02-06T23:00:00Z",
      "source": "E4 implementation"
    },
    "tech.file_locking": {
      "value": "lockedWriteJSON() in memory_engine.js — mkdir-based atomic locking compatible with bash file-lock.sh. Same /tmp/openclaw-locks/ directory, 30s timeout, 5min stale detection. All state.json writes now locked.",
      "updatedAt": "2026-02-06T23:00:00Z",
      "source": "E2 implementation"
    },
    "tech.event_architecture": {
      "value": "4 scripts (morning-briefing, pipeline-watchdog, accountability-check, meeting-prep) migrated from direct curl to event-bus.js. Backward compatible — falls back to curl if event-bus fails to load.",
      "updatedAt": "2026-02-06T23:00:00Z",
      "source": "E5 implementation"
    }
  },
  "invalidated": [
    {
      "key": "integrations.todoist",
      "oldValue": "connected (shared account)",
      "invalidatedAt": "2026-02-01",
      "reason": "clarified - using Ayman's account due to seat cost"
    }
  ],
  "contacts": {
    "ayman": {
      "telegram_id": 1186936952,
      "role": "CEO"
    },
    "aadil": {
      "telegram_id": 124756960,
      "telegram_handle": "@AadilFeroze_92",
      "role": "CTO"
    }
  },
  "pendingItems": [
    "Clean up 3 test bots from Recall.ai",
    "Production voice bot setup (prototype proven, needs stable hosting)",
    "Todoist restructure - waiting for Aadil feedback on clean slate approach (sent 2026-02-03)",
    "Schedule 30-min planning session with Aadil for Todoist adoption plan",
    "Auto-populate remaining team member profiles (Hamad, Amr, Mreefah, etc.)",
    "E3: Run gcloud auth login + scripts/setup-gmail-pubsub.sh to activate Gmail Pub/Sub push notifications",
    "Feb 13 (Friday): Re-evaluate whether graph database (Neo4j) is needed — check entity count in relationships.json, query complexity, traversal depth requirements. Report findings via Telegram."
  ],
  "completedItems": [
    {
      "item": "LinkedIn Intelligence System",
      "completedAt": "2026-02-02T06:20:00Z",
      "outcome": "Browser automation deployed with cookie-based auth, nightly runs at 2 AM Riyadh"
    },
    {
      "item": "HubSpot API access",
      "completedAt": "2026-02-02T06:31:00Z",
      "outcome": "Access granted - Legacy Private App created by Ayman, full CRM access"
    },
    {
      "item": "Gmail send permissions",
      "completedAt": "2026-02-02T07:01:00Z",
      "outcome": "Re-authorized with Aadil's help, gmail.send scope added"
    },
    {
      "item": "Sales Intelligence Skill",
      "completedAt": "2026-02-02T07:18:00Z",
      "outcome": "Comprehensive sales ops system integrating HubSpot, Recall.ai, Gmail, Calendar"
    },
    {
      "item": "System Hardening - 7 structural issues",
      "completedAt": "2026-02-02T07:38:00Z",
      "outcome": "Fixed vector DB, state.json, dream script, auto-save cleanup, file locking, session-end validation"
    },
    {
      "item": "Context Optimization",
      "completedAt": "2026-02-02T07:48:00Z",
      "outcome": "Reduced from 72k to ~15k tokens, established size limits for bootstrap files"
    },
    {
      "item": "Voice Bot Prototype",
      "completedAt": "2026-02-02T10:00:00Z",
      "outcome": "Recall.ai + OpenAI Realtime API working, needs production hosting for quality"
    },
    {
      "item": "KESWA Meeting Transcription",
      "completedAt": "2026-02-02T11:45:00Z",
      "outcome": "Recorded, transcribed via Whisper, summary emailed to all attendees"
    },
    {
      "item": "Communication Guidelines",
      "completedAt": "2026-02-02T15:11:00Z",
      "outcome": "Created professional standards for newsletters, emails, tone, validation"
    },
    {
      "item": "Self-Development Framework",
      "completedAt": "2026-02-02T15:22:00Z",
      "outcome": "Capabilities, goals, evolution tracking established. First weekly review completed."
    },
    {
      "item": "Todoist restructure decision",
      "completedAt": "2026-02-01T20:30:00Z",
      "outcome": "CEO decision: Don't restructure, use existing 'Ayman-Aadil Tasks'"
    },
    {
      "item": "Project Portfolio Analysis (HubSpot + Todoist)",
      "completedAt": "2026-02-03T13:50:00Z",
      "outcome": "26 HubSpot deals (SAR 1.94M pipeline), 51 Todoist tasks analyzed. Found systemic discipline issues: 96% tasks no due dates, 23% deals stale."
    },
    {
      "item": "Todoist Team Usage Guide",
      "completedAt": "2026-02-03T13:50:00Z",
      "outcome": "18KB comprehensive guide created: standards, workflows, best practices. Shared with Ayman, Aadil, Mreefah."
    },
    {
      "item": "Todoist Restructure Proposal",
      "completedAt": "2026-02-03T13:50:00Z",
      "outcome": "15KB clean slate architecture proposal by function. Sent to Aadil for review and decision."
    },
    {
      "item": "LinkedIn Intelligence V2 (Native Browser Orchestration)",
      "completedAt": "2026-02-04T03:00:00Z",
      "outcome": "Fixed 300s timeout by eliminating subprocess overhead. Built marker-file system for cron → native browser tool. 10x performance improvement (8-12 min vs 300s+). Ready to deploy."
    },
    {
      "item": "Check Before Ask Automation",
      "completedAt": "2026-02-04T04:30:00Z",
      "outcome": "Built scripts/check-before-ask.sh - searches 6 locations (config, vector memory, state files, env vars) before asking user. Prevents redundant questions."
    },
    {
      "item": "MEMORY.md Long-Term Repository",
      "completedAt": "2026-02-04T20:30:00Z",
      "outcome": "Created persistent knowledge file: core principles, technical patterns, business context, anti-patterns. Evolves as I learn."
    },
    {
      "item": "Team Meeting Transcription (Feb 4)",
      "completedAt": "2026-02-04T08:16:00Z",
      "outcome": "70-minute meeting with Ayman/Adil/Hamad recorded via Recall.ai, transcribed via Whisper, summarized and sent. Key decisions captured."
    },
    {
      "item": "Memory System Audit & Architecture Plan",
      "completedAt": "2026-02-06T19:30:00Z",
      "outcome": "Full audit: 672 vector chunks, pipeline scripts, cron config, monitoring infra. Designed P0-P6 + F1-F8 architecture plan. Created scripts/memory CLI wrapper."
    },
    {
      "item": "P0-P6 Cognitive Architecture Upgrade",
      "completedAt": "2026-02-06T20:30:00Z",
      "outcome": "7 features: P0 cosine metric fix (search went from 0-1 to 5 results), P1 hybrid search (vector+keyword fallback), P2 contradiction detection, P3 temporal decay weighting, P4 proactive context assembly (getContextFor), P5 confidence scoring, P6 relationship extraction (BFS graph). memory_engine.js: 656→1032 lines."
    },
    {
      "item": "F1-F8 Operational Intelligence Upgrade",
      "completedAt": "2026-02-06T21:15:00Z",
      "outcome": "8 features: F1 session-bootstrap.sh (2000 char context loader), F2 morning-briefing.js (daily 8:30 Riyadh), F3 pipeline-watchdog.js (weekly Monday), F4 lessons compaction (3-tier lifecycle with LLM dedup), F5 accountability-check.js (Sunday), F6 meeting-prep.js (daily 8:35), F7 user profiles (ayman.md + aadil.md populated, getUserProfile()), F8 crontab (4 new jobs). memory_engine.js: 1032→1230+ lines."
    },
    {
      "item": "E1-E6 Infrastructure Hardening & Event Architecture",
      "completedAt": "2026-02-06T23:00:00Z",
      "outcome": "E1: event-bus.js (publish/subscribe/notify/logEvent + JSONL event log + topic routing + retry). E2: lockedWriteJSON() in memory_engine.js (mkdir-based atomic locking, compatible with file-lock.sh). E3: Gmail Pub/Sub config in openclaw.json + setup-gmail-pubsub.sh (needs gcloud auth). E4: email-processor.js (sanitization, injection detection, LLM classification, domain-allowlisted auto-reply). E5: 4 scripts migrated to event-bus (morning-briefing, pipeline-watchdog, accountability-check, meeting-prep). E6: Graph DB re-evaluation reminder set for Feb 13."
    }
  ],
  "pendingForwards": []
}
